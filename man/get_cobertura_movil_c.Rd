% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/get_cobertura_movil_c.R
\name{get_cobertura_movil_c}
\alias{get_cobertura_movil_c}
\title{Obtener Cobertura de Servicio Móvil por Centros Poblados del Perú}
\usage{
get_cobertura_movil_c(
  departamento = NULL,
  provincia = NULL,
  distrito = NULL,
  show_progress = TRUE,
  force_update = FALSE
)
}
\arguments{
\item{departamento}{Character vector. Nombre(s) del/los departamento(s) a descargar.
Opciones válidas: "AMAZONAS", "ANCASH", "APURIMAC", "AREQUIPA", "AYACUCHO",
"CAJAMARCA", "CALLAO", "CUSCO", "HUANCAVELICA", "HUANUCO", "ICA", "JUNIN",
"LA LIBERTAD", "LAMBAYEQUE", "LIMA", "LORETO", "MADRE DE DIOS", "MOQUEGUA",
"PASCO", "PIURA", "PUNO", "SAN MARTIN", "TACNA", "TUMBES", "UCAYALI".
No distingue entre mayúsculas y minúsculas. Si es \code{NULL}, muestra la
lista de departamentos disponibles.}

\item{provincia}{Character vector. Nombre(s) de la(s) provincia(s) para filtrar
dentro del/los departamento(s) especificado(s). Opcional.}

\item{distrito}{Character vector. Nombre(s) del/los distrito(s) para filtrar
dentro de la(s) provincia(s) especificada(s). Opcional.}

\item{show_progress}{Logical. Si \code{TRUE} (por defecto), muestra mensajes
informativos sobre el progreso de la descarga. Si \code{FALSE}, ejecuta de
forma silenciosa.}

\item{force_update}{Logical. Si \code{TRUE}, fuerza una nueva descarga del
archivo incluso si existe en caché. Por defecto \code{FALSE}.}
}
\value{
Un objeto \code{sf} (simple feature) con geometría tipo POINT que contiene
información de cobertura móvil por centro poblado, incluyendo:

\strong{Identificación geográfica:}
\itemize{
\item Geometría POINT (coordenadas del centro poblado)
\item \code{n}: Número de registro
\item \code{ubigeo_ccp}: Código de ubicación geográfica del centro poblado
\item \code{departamen}: Nombre del departamento
\item \code{provincia}: Nombre de la provincia
\item \code{distrito}: Nombre del distrito
\item \code{centro_pob}: Nombre del centro poblado
\item \code{y_latitud}: Latitud del centro poblado
\item \code{x_longitud}: Longitud del centro poblado
\item \code{emoperador}: Indicador de presencia de operador
\item \code{layer}: Capa de origen
}

\strong{Tecnologías de red móvil} (valores: 1 = disponible, 0 = no disponible):
\itemize{
\item \code{2g}: Tecnología 2G declarada por la empresa operadora a nivel
de centro poblado
\item \code{3g}: Tecnología 3G declarada por la empresa operadora a nivel
de centro poblado
\item \code{4g}: Tecnología 4G declarada por la empresa operadora a nivel
de centro poblado
\item \code{5g}: Tecnología 5G declarada por la empresa operadora a nivel
de centro poblado
}

\strong{Servicios de comunicación} (valores: 1 = disponible, 0 = no disponible):
\itemize{
\item \code{voz}: Servicio de voz brindado por la empresa operadora a nivel
de centro poblado
\item \code{sms}: Servicio de mensaje de texto corto (SMS) brindado por la
empresa operadora a nivel de centro poblado
\item \code{mms}: Servicio de mensaje multimedia (MMS) brindado por la
empresa operadora a nivel de centro poblado
}

\strong{Velocidad de internet móvil} (valores: 1 = disponible, 0 = no disponible):
\itemize{
\item \code{hasta1mbps}: Servicio de acceso a internet móvil con velocidad
de hasta 1 Mbps brindado por la empresa operadora
\item \code{masde1mbps}: Servicio de acceso a internet móvil con velocidad
de más de 1 Mbps brindado por la empresa operadora
}

\strong{Infraestructura - Estaciones base:}
\itemize{
\item \code{canteb2g}: Cantidad de estaciones base que pueden brindar
servicio de cobertura móvil con tecnología 2G al centro poblado
\item \code{canteb3g}: Cantidad de estaciones base que pueden brindar
servicio de cobertura móvil con tecnología 3G al centro poblado
\item \code{canteb4g}: Cantidad de estaciones base que pueden brindar
servicio de cobertura móvil con tecnología 4G al centro poblado
\item \code{canteb5g}: Cantidad de estaciones base que pueden brindar
servicio de cobertura móvil con tecnología 5G al centro poblado
}

Si se solicitan múltiples departamentos, retorna un objeto sf combinado.
}
\description{
Descarga y carga la información de cobertura de servicio móvil por centros
poblados del Perú, elaborado por el Ministerio de Transportes y Comunicaciones
(MTC) y el Organismo Supervisor de Inversión Privada en Telecomunicaciones (OSIPTEL).
Los datos incluyen geometría tipo POINT e información sobre disponibilidad de
tecnologías 2G, 3G, 4G y 5G, así como servicios de voz, SMS y datos.
Permite filtrado escalonado por departamento, provincia y distrito.
}
\details{
La función descarga datos desde OSF (Open Science Framework) y los almacena
en caché durante la sesión de R. Los datos están en formato GeoPackage (.gpkg).

\strong{Fuente de los datos:}
\itemize{
\item Fuente: Ministerio de Transportes y Comunicaciones (MTC) / OSIPTEL
\item Nivel: Centro poblado
\item Aplicación: Análisis de brecha digital y planificación de telecomunicaciones
}

\strong{Interpretación de variables binarias:}

Las variables de tecnología (2G, 3G, 4G, 5G), servicios (VOZ, SMS, MMS) y
velocidad (hasta1mbps, masde1mbps) son declaradas por las empresas operadoras
y toman únicamente valores de 0 o 1:
\itemize{
\item \strong{Valor 1}: El centro poblado cuenta con la tecnología/servicio
\item \strong{Valor 0}: El centro poblado NO cuenta con la tecnología/servicio
}

\strong{Tecnologías de red móvil:}
\itemize{
\item \strong{2G (GSM)}: Segunda generación - servicios básicos de voz y SMS
\item \strong{3G (UMTS/HSPA)}: Tercera generación - datos móviles básicos,
navegación web limitada
\item \strong{4G (LTE)}: Cuarta generación - banda ancha móvil, streaming
de video, aplicaciones en tiempo real
\item \strong{5G}: Quinta generación - ultra banda ancha, baja latencia,
IoT masivo
}

\strong{Estaciones base:}

Las variables canteb2g, canteb3g, canteb4g y canteb5g indican la cantidad
de estaciones base (antenas) que pueden brindar servicio de cobertura móvil
con cada tecnología al centro poblado. Un mayor número de estaciones base
generalmente indica mejor calidad de señal y capacidad de red.

\strong{Filtrado jerárquico:}
Los filtros se aplican en cascada:
\enumerate{
\item Primero se cargan los departamentos especificados
\item Luego se filtran las provincias (si se especifican)
\item Finalmente se filtran los distritos (si se especifican)
}

El caché se almacena en: \code{tempdir()/DEMARCA_cache/cobertura_movil/}

\strong{NOTA:} Las geometrías son tipo POINT (puntos) y representan la ubicación
de cada centro poblado con información de cobertura.
}
\examples{
\dontrun{
# Ver departamentos disponibles
get_cobertura_movil_c()

# Cargar cobertura de un departamento completo
cob_cusco <- get_cobertura_movil_c(departamento = "CUSCO")

# Filtrar por provincia específica
cob_prov_cusco <- get_cobertura_movil_c(
  departamento = "CUSCO",
  provincia = "CUSCO"
)

# Filtrar por distrito específico
cob_san_sebastian <- get_cobertura_movil_c(
  departamento = "CUSCO",
  provincia = "CUSCO",
  distrito = "SAN SEBASTIAN"
)

# Cargar múltiples departamentos
cob_sur <- get_cobertura_movil_c(
  departamento = c("CUSCO", "PUNO", "AREQUIPA")
)

# Visualización con ggplot2
library(ggplot2)
library(dplyr)

# Mapa de cobertura 4G
ggplot(cob_cusco) +
  geom_sf(aes(color = factor(`4g`)), size = 1, alpha = 0.6) +
  scale_color_manual(
    values = c("0" = "red", "1" = "darkgreen"),
    labels = c("0" = "Sin cobertura", "1" = "Con cobertura"),
    name = "Cobertura 4G"
  ) +
  labs(
    title = "Cobertura 4G en Centros Poblados de Cusco",
    subtitle = "MTC / OSIPTEL",
    caption = "Fuente: MTC | Visor - SDOT"
  ) +
  theme_minimal()

# Resumen de cobertura por tecnología
cob_cusco |>
  sf::st_drop_geometry() |>
  summarise(
    total_ccpp = n(),
    con_2g = sum(`2g`),
    con_3g = sum(`3g`),
    con_4g = sum(`4g`),
    con_5g = sum(`5g`),
    pct_4g = round(sum(`4g`) / n() * 100, 1)
  )
}

}
\references{
Ministerio de Transportes y Comunicaciones (MTC). Cobertura de Servicio Móvil
por Centros Poblados.

OSIPTEL - Organismo Supervisor de Inversión Privada en Telecomunicaciones.
}
\seealso{
\code{\link{get_departamentos}}, \code{\link{get_provincias}},
\code{\link{get_distritos}}, \code{\link{get_centros_poblados}},
\code{\link[sf]{read_sf}}
}
